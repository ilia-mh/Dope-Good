(this.webpackJsonpcomfeey=this.webpackJsonpcomfeey||[]).push([[9],{136:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var r=function(e,t){for(var c=[],r=e;r<=t;r++)c.push(r);return c}},144:function(e,t,c){},162:function(e,t,c){},173:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return x}));var r=c(3),n=c(1),s=(c(144),c(11)),i=c(21),a=c(4),o=c.n(a),l=c(9),d=c(6),j=c(10),u=c(136),m=c(0),b=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL;function p(e){var t=e.product_id,c=e.replyTo,i=e.toggleReplyFor,a=Object(n.useState)(5),p=Object(r.a)(a,2),h=p[0],O=p[1],v=Object(n.useState)(""),x=Object(r.a)(v,2),f=x[0],w=x[1],g=Object(n.useState)(""),N=Object(r.a)(g,2),y=(N[0],N[1]),_=Object(n.useState)(""),k=Object(r.a)(_,2),S=k[0],C=k[1],T=Object(n.useState)(""),R=Object(r.a)(T,2),A=(R[0],R[1]),F=Object(s.c)((function(e){return e.shop.user})),E=function(){var e=Object(l.a)(o.a.mark((function e(){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(""),A(""),F){e.next=5;break}return d.b.error("You must login to post a review"),e.abrupt("return");case 5:if(D()){e.next=8;break}return d.b.error("Validation for review failed. Please provide required fields"),e.abrupt("return");case 8:return r={name:f,text:S,user_id:F._id,product_id:t,rate:h},c&&(r.replyTo=c),F.img&&(r.img=F.img),e.next=13,Object(j.c)("".concat(b,"/api/review"),r);case 13:(n=e.sent).success?(d.b.success("Your review has successfuly submitted and its under confirmation from admin."),w(""),C("")):"User Already has a review on this product."===n.message?d.b.error("You already have a review on this product."):d.b.error("Some Error occured during submitting your review."),c&&i(c);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){return f.length<3&&y(""),S.length<3&&A("You must provide a comment"),!0};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"form--review-rating text-center ".concat(c?"new-reply":""),children:[c&&Object(m.jsx)("svg",{onClick:function(){return i(c)},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 close-reply",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),c?Object(m.jsx)("h5",{children:"Add Reply"}):Object(m.jsx)("h5",{children:"Add Your Review"}),!c&&Object(m.jsxs)("div",{className:"form--review-rating-content",children:[Object(m.jsx)("span",{children:"Your Ratting"}),Object(u.a)(1,5).map((function(e){return Object(m.jsx)("div",{className:"product--rating",onClick:function(){return O(e)},children:Object(u.a)(1,e).map((function(t){return Object(m.jsx)("i",{className:"fa fa-star ".concat(h===e?"active":"")},t)}))},e)}))]})]}),Object(m.jsx)("div",{className:"form--review ".concat(c?"new-reply":""),children:Object(m.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-12",children:Object(m.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"Enter your name",value:f,onChange:function(e){return w(e.target.value)}})}),Object(m.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-12",children:Object(m.jsx)("textarea",{className:"form-control",id:"review",rows:"2",placeholder:"Comment review",value:S,onChange:function(e){return C(e.target.value)}})}),Object(m.jsx)("div",{className:" col-sm-12 col-md-12 col-lg-12 text--center ",children:Object(m.jsx)("button",{className:"btn btn--primary btn--rounded new-review-btn",onClick:E,type:"button",children:"Submit"})})]})})})]})}function h(e){var t=e._id,c=e.text,r=e.img,n=e.name,s=e.rate,i=e.created_at,a=e.product_id,o=e.isReply,l=e.toggleReplyFor,d=e.replyFor;return Object(m.jsxs)("div",{className:"comment-wrapper ".concat(o?"reply-comment":""),children:[Object(m.jsx)("div",{className:"author--img ".concat(o?"reply-comment":""),children:r?Object(m.jsx)("img",{src:r,alt:n}):Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"})})}),Object(m.jsxs)("div",{className:"review--comment-content ".concat(o?"reply-comment":""),children:[Object(m.jsxs)("div",{className:"comment-top-info",children:[Object(m.jsxs)("div",{className:"pull-left",children:[Object(m.jsx)("h6",{children:n}),Object(m.jsx)("span",{className:"review--date",children:function(e){var t=new Date(e),c=t.getMonth(),r=t.getDate(),n=t.getFullYear();return"".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][c]," ").concat(r,"th, ").concat(n)}(i)})]}),!o&&Object(m.jsx)("div",{className:"pull-right product--rating",children:Object(u.a)(1,s).map((function(e,t){return Object(m.jsx)("i",{className:"fa fa-star active"},t)}))})]}),Object(m.jsx)("div",{className:"product--comment",children:Object(m.jsx)("p",{children:c})}),!o&&d!==t&&Object(m.jsxs)("button",{className:"reply",onClick:function(){return l(t)},children:["reply",Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]}),!o&&d===t&&Object(m.jsx)(p,{replyTo:d,toggleReplyFor:l,product_id:a})]})}c(162);function O(e){var t=e.showTab,c=e.reviews,s=e.product_id,a=Object(n.useState)(""),d=Object(r.a)(a,2),j=d[0],u=d[1],b=c.filter((function(e){return!e.replyTo||!e.replyTo.length})),O=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(j===t?"":t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"tab-pane fade ".concat(2===t?"show active":""),id:"reviews",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-sm-12 col-md-12 col-lg-8 offset-lg-2",children:[c.length?Object(m.jsx)("ul",{className:"product--review-comments list-unstyled",children:b.map((function(e,t){var r,n=e._id;return Object(m.jsxs)("li",{className:"review--comment",children:[Object(m.jsx)(h,Object(i.a)(Object(i.a)({},e),{},{replyFor:j,toggleReplyFor:O,product_id:s})),(r=n,c.filter((function(e){return e.replyTo&&e.replyTo===r}))).map((function(e,t){return Object(m.jsx)(h,Object(i.a)(Object(i.a)({},e),{},{isReply:!0}),t)}))]},t)}))}):Object(m.jsx)("div",{className:"no-comment",children:"No Comments for this product"}),Object(m.jsx)(p,{product_id:s})]})})})}var v=c(163);function x(){var e=Object(n.useState)(0),t=Object(r.a)(e,2),c=t[0],i=t[1],a=Object(s.c)((function(e){return e.shop.singleProduct})),o=a._id,l=a.description,d=a.properties,j=a.additionalInfo,u=a.reviews,b=function(e){c!==e&&i(e)};return o?Object(m.jsx)("section",{id:"product-detalis2",className:"product-detalis product-detalis-2 pb-80",children:Object(m.jsx)("div",{className:"container details-cont",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-10 offset-lg-1",children:Object(m.jsxs)("div",{className:"product--tabs tabs",children:[Object(m.jsxs)("ul",{className:"nav nav-tabs",role:"tablist",children:[Object(m.jsx)("li",{children:Object(m.jsx)("button",{className:0===c?"active":"",onClick:function(){return b(0)},children:"description"})}),Object(m.jsx)("li",{children:Object(m.jsx)("button",{className:1===c?"active":"",onClick:function(){return b(1)},children:"Addtional info"})}),Object(m.jsx)("li",{children:Object(m.jsxs)("button",{className:2===c?"active":"",onClick:function(){return b(2)},children:["reviews(",u.filter((function(e){return!e.replyTo||!e.replyTo.length})).length,")"]})})]}),Object(m.jsxs)("div",{className:"tab-content",children:[Object(m.jsx)("div",{className:"tab-pane fade ".concat(0===c?"show active":""),id:"description",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-10 offset-lg-1",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-8",children:Object(m.jsx)("div",{className:"product--desc",children:Object(m.jsx)("p",{children:Object(m.jsx)(v.a,{content:l})})})}),d.length>0&&Object(m.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-4",children:d.map((function(e){var t=e.title,c=e.items;return Object(m.jsxs)("div",{className:"product--desc-list",children:[Object(m.jsx)("h6",{children:t}),Object(m.jsx)("ul",{className:"list-unstyled mb-0",children:c.map((function(e,t){return Object(m.jsx)("li",{children:e},t)}))})]},t)}))})]})})})}),Object(m.jsx)("div",{className:"tab-pane fade ".concat(1===c?"show active":""),id:"addtional-info",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-10 offset-lg-1",children:Object(m.jsx)("div",{className:"product--desc",children:j?Object(m.jsx)("p",{children:Object(m.jsx)(v.a,{content:j})}):"No additional info for this product."})})})}),Object(m.jsx)(O,{showTab:c,reviews:u,product_id:o})]})]})})})})}):null}}}]);
//# sourceMappingURL=9.0d6674b0.chunk.js.map